---
title: JavaScript正则表达式学习笔记
date: 2017-03-23 14:45:46
tags:
- javascript
- object
categories: FontEnd
---
正则表达式无论在哪种语言里面都是必须要掌握的知识，熟练掌握正则表达式可以在以后的编程中解决很多问题。网上也有很多的教程，这里主要记录一下自己的学习心得。
<!-- more -->
##### 语法
``` bash
/pattern/flags

// 字面量: 模式 标志

new RegExp(pattern [, flags])

// 构造函数: 模式 标志

RegExp(pattern [, flags])

// 工厂符号: 模式 标志

// 例子
/ab+c/i;
new RegExp('ab+c', 'i');
new RegExp(/ab+c/, 'i');
```
如 new RegExp('ab+c')形式，如果你知道正则表达式模式将会改变，或者你事先不知道什么模式，而是从另一个来源获取(传入变量)，如用户输入，这些情况都可以使用构造函数。

##### 特殊字符含义

|字符类别|含义|
|:------:|:-----:|
|.       |(点号，小数点)匹配任意单个字符，但是回车\r换行\n符除。在字符集中，点( . )失去其特殊含义，并匹配一个字面点( . )。|
|\d      |匹配一个数字字符。等价于[0-9]。|
|\D      |匹配任意一个非数字的字符。等价于[^0-9]。|
|\w      |字母，数字，下划线。等价于 [A-Za-z0-9_]。|
|\W      |非字母，数字，下划线。等价于 [^A-Za-z0-9_]。|
|\s      |匹配一个空白字符，包括空格、制表符、换页符、换行符和其他 Unicode 空格。|
|\S      |非空白字符。|
|\t      |匹配一个水平制表符。|
|\r      |回车。|
|\n      |换行符。|

|字符集  |含义|
|:------:|:----:|
|[xyz]   |一个字符集合，也叫字符组。匹配集合中的任意一个字符。你可以使用连字符'-'指定一个范围。[a-z]|
|[^xyz]  |一个反义或补充字符集，也叫反义字符组。|

|边界|含义|
|:--:|:--:|
|^   |行首开始|
|$   |行尾|
|\b  |匹配一个零宽单词边界|

|数量词|含义|
|:----:|:--:|
|x+    |匹配前面的模式 x 1 或多次。等价于 {1,}。|
|x*    |匹配前面的模式 x 0 或多次。|
|x?    |匹配前面的模式 x 0 或 1 次。|
|x{n, m}|n 和 m 为正整数。前面的模式 x 连续出现至少 n 次，至多 m 次时匹配。|
|xIy   |匹配 x 或 y|

``` bash
var re = /(\w+)\s(\w+)/;
var str = "John Smith";
var newstr = str.replace(re, "$2, $1");
console.log(newstr); // Smith, John
```

##### 常用方法
**exec**方法，一个在字符串中执行查找匹配的RegExp方法，它返回一个数组（未匹配到则返回null）。

语法为`RegExp.exec(str)`，如果成功匹配，exec() 方法返回一个数组并更新**正则表达式对象**的属性。返回的数组具有匹配的文本作为第一项，然后匹配的每个捕获括号的一个项包含捕获的文本。如果匹配失败，exec() 方法返回 null。

``` bash
ar reg = /quick\s(brown).+?(jumps)/ig;

var result = reg.exec('The Quick Brown Fox Jumps Over The Lazy Dog');
```
返回值如下表：

|对象|属性(索引)|描述|例子|
|:----:|:---:|:--:|
|**result**|[0]    |匹配的全部字符串|Quick Brown Fox Jumps|
|      |[1],...[n]|括号中的分组捕获|[1] = Brown ,  [2] = Jumps|
|      |index  |匹配到的字符位于原始字符串的基于0的索引值|4|
|      |input  |原始字符串|The Quick Brown Fox Jumps Over The Lazy Dog|
|**reg**|lastIndex|下一次匹配开始的位置(必须是全局模式g)|25|
|      |ignoreCase|是否使用了'i'标记使正则匹配忽略大小写|true|
|      |global|是否使用了'g'标记来进行全局的匹配.|true|

**test**方法,一个在字符串中测试是否匹配的RegExp方法，它返回true或false。

语法`RegExp.test(str)`,如果正则表达式与指定的字符串匹配 ，返回true；否则false。

**match**方法,一个在字符串中执行查找匹配的String方法，它返回一个数组或者在未匹配到时返回null。(和exec类似)

语法`str.match(RegExp)`,返回一个包含了整个匹配结果以及任何括号捕获的匹配结果的 Array ；如果没有匹配项，则返回 null。

**search**方法,一个在字符串中测试匹配的String方法，它返回匹配到的位置索引，或者在失败时返回-1。

语法`str.search(RegExp)`,如果匹配成功，则 search() 返回正则表达式在字符串中首次匹配项的索引。否则，返回 -1。

